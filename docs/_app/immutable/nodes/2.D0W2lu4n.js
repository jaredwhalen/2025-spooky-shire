import"../chunks/DsnmJJEf.js";import"../chunks/D03iYyIJ.js";import{a5 as ve,a6 as A,t as ce,p as de,e as he,a7 as ue,a8 as fe,a0 as me,R as q,Q as p,a1 as ge,a2 as a,Y as s,a9 as R,a3 as t,a4 as c,T as H,M as Z,P as K,aa as n,ab as $,ac as be}from"../chunks/5Es99Kcf.js";import{d as _e,s as f,e as we}from"../chunks/D6AelHH1.js";import{i as Q}from"../chunks/CaneJkr4.js";import{r as pe}from"../chunks/B0FCbcWS.js";function ye(e,l,d=l){var v=new WeakSet;ve(e,"input",async o=>{var r=o?e.defaultValue:e.value;if(r=J(e)?O(r):r,d(r),A!==null&&v.add(A),await ce(),r!==(r=l())){var h=e.selectionStart,i=e.selectionEnd,b=e.value.length;if(e.value=r??"",i!==null){var M=e.value.length;h===i&&i===b&&M>b?(e.selectionStart=M,e.selectionEnd=M):(e.selectionStart=h,e.selectionEnd=Math.min(i,M))}}}),(de&&e.defaultValue!==e.value||he(l)==null&&e.value)&&(d(J(e)?O(e.value):e.value),A!==null&&v.add(A)),ue(()=>{var o=l();if(e===document.activeElement){var r=fe??A;if(v.has(r))return}J(e)&&o===O(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function J(e){var l=e.type;return l==="number"||l==="range"}function O(e){return e===""?null:+e}const T={title:"Gavin & Pedro's Spooky Shire Scavenger Hunt",description:"It's a dangerous business going out your door. Luckily, this puzzle is (mostly) indoors. Start your quest at the inn where travelers meet.",locations:[{id:1,question:"In the shadows of the Prancing Pony, what name does Aragorn go by before his true heritage is known?",answer:"Strider",alternatives:[],successMessage:"Well done! Gandalf would be proud of your wisdom!",hint:"From the warmth of the inn, descend into darkness. Find where fire and shadow meet, and the wizard makes his stand.",locationName:"The Prancing Pony"},{id:2,question:"What command did Gandalf shout upon the bridge to bar the fiery foe?",answer:"you shall not pass",alternatives:["You cannot pass","shall not pass","thou shalt not pass"],successMessage:"Well shouted, traveler! The Balrog retreats to the depths!",hint:"Victory in Moria! Now beware the webs ahead—something wicked crawls in the dark.",locationName:"Mines of Moria"},{id:3,question:"In the blackness of Shelob’s lair, what gift of Galadriel does Frodo use to drive back the darkness?",answer:"Phial of Galadriel",alternatives:["Light of Eärendil","Light of Earendil","Galadriel’s light","the star-glass"],successMessage:"The darkness recoils before the Light of Eärendil!",hint:"You’ve escaped the webs of darkness—now follow the fires of hope. The beacons are lit! Gondor calls for aid!",locationName:"Shelob's Lair"},{id:4,question:"When the mountains blaze with flame, who rides to Gondor’s aid upon hearing the call?",answer:"Rohan",alternatives:["the riders of rohan","the rohirrim","the horse-lords"],successMessage:"The Riders of Rohan answer the call! Hope thunders across the plains toward Gondor!",hint:"The fires of war burn low—seek the mountain of fire where the fate of all rests.",locationName:"Gondor"},{id:5,question:"When the Ringbearer can go no further, who carries him up the slopes of Mount Doom?",answer:"Samwise Gamgee",alternatives:["Sam","Sam Gamgee","Samwise"],successMessage:"Sam’s loyalty endures where strength fails. Friendship triumphs over all.",hint:"The fire cools and the shadows flee—return now to the peace of the Shire.",locationName:"Mount Doom"},{id:6,question:"Back in the Green Dragon Inn, who is that behind the bar and has the heart of Sam?",answer:"Rosie Cotton",alternatives:["Rosie","Rosie the barmaid"],successMessage:"Home at last! Rosie greets you with a smile, and all is well in the Shire once more.",hint:"",locationName:"The Shire"}],completionMessage:"You’ve walked the long road there and back again. Well done, adventurer! Claim your reward—there’s ale waiting at the bar."};function ke(e,l,d,v,o,r,h){n(l,"playing"),n(d,0),n(v,""),n(o,!1),n(r,!1),n(h,"")}function Se(e,l,d,v,o,r,h,i){scrollTo({top:0,behavior:"smooth"}),s(l)?n(d,"end"):(be(v),n(o,""),n(r,!1),n(h,!1),n(i,""))}var xe=q('<div class="start-screen svelte-nobnlg"><img src="banner.jpg" alt="The Quest of the Spooky Shire" class="svelte-nobnlg"/> <div class="title-section"><h1 class="main-title svelte-nobnlg"> </h1> <h2 class="subtitle svelte-nobnlg"> </h2> <p class="description svelte-nobnlg"> </p></div> <div class="start-actions"><button class="start-button svelte-nobnlg">Begin Your Quest</button></div></div>'),Me=q('<div class="error-message svelte-nobnlg"> </div>'),Ge=q('<div class="input-section svelte-nobnlg"><input type="text" placeholder="Enter your answer..." class="answer-input svelte-nobnlg"/> <button class="submit-button svelte-nobnlg">Submit Answer</button></div> <!>',1),Le=q('<div class="success-section svelte-nobnlg"><div class="success-message svelte-nobnlg"> </div> <div class="hint-section svelte-nobnlg"><h4 class="svelte-nobnlg">Your next clue:</h4> <p class="hint svelte-nobnlg"> </p></div> <button class="next-button svelte-nobnlg"> </button></div>'),Te=q('<div class="game-screen svelte-nobnlg"><div class="location-header svelte-nobnlg"><h2 class="location-name svelte-nobnlg"> </h2> <div class="progress svelte-nobnlg"> </div></div> <div class="question-section svelte-nobnlg"><h3 class="question svelte-nobnlg"> </h3> <!></div></div>'),qe=q('<div class="end-screen svelte-nobnlg"><div class="completion-section"><h1 class="completion-title svelte-nobnlg">Quest Complete!</h1> <div class="completion-message svelte-nobnlg"> </div></div></div>'),Ee=q('<div class="game-container svelte-nobnlg"><!></div>');function Ne(e,l){me(l,!0);let d=R("start"),v=R(0),o=R(""),r=R(!1),h=R(!1),i=R("");const b=$(()=>T.locations[s(v)]),M=$(()=>s(v)===T.locations.length-1);function U(u){const _=["the","a","an","and","or","but","in","on","at","to","for","of","with","by"];return u.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim().split(" ").filter(m=>m&&!_.includes(m)).join(" ")}function X(){if(!s(o).trim()){n(i,"Please enter an answer!");return}const u=U(s(o));[...s(b)?.alternatives,s(b).answer].some(m=>U(m)===u)?(n(h,!0),n(i,"")):n(i,"That is not the answer you seek. Try again, brave adventurer!")}function ee(u){u.key==="Enter"&&!s(h)&&X()}var B=Ee(),ae=a(B);{var te=u=>{var _=xe(),m=c(a(_),2),W=a(m),V=a(W,!0);t(W);var g=c(W,2),y=a(g,!0);t(g);var k=c(g,2),G=a(k,!0);t(k),t(m);var S=c(m,2),x=a(S);x.__click=[ke,d,v,o,r,h,i],t(S),t(_),H(()=>{f(V,T.title),f(y,T.subtitle),f(G,T.description)}),p(u,_)},se=u=>{var _=Z(),m=K(_);{var W=g=>{var y=Te(),k=a(y),G=a(k),S=a(G,!0);t(G);var x=c(G,2),D=a(x);t(x),t(k);var C=c(k,2),I=a(C),oe=a(I,!0);t(I);var re=c(I,2);{var ne=E=>{var N=Ge(),L=K(N),P=a(L);pe(P);var Y=c(P,2);Y.__click=X,t(L);var F=c(L,2);{var j=w=>{var z=Me(),le=a(z,!0);t(z),H(()=>f(le,s(i))),p(w,z)};Q(F,w=>{s(i)&&w(j)})}we("keypress",P,ee),ye(P,()=>s(o),w=>n(o,w)),p(E,N)},ie=E=>{var N=Le(),L=a(N),P=a(L,!0);t(L);var Y=c(L,2),F=c(a(Y),2),j=a(F,!0);t(F),t(Y);var w=c(Y,2);w.__click=[Se,M,d,v,o,r,h,i];var z=a(w,!0);t(w),t(N),H(()=>{f(P,s(b).successMessage),f(j,s(b).hint),f(z,s(M)?"Complete Quest":"Next Location")}),p(E,N)};Q(re,E=>{s(h)?E(ie,!1):E(ne)})}t(C),t(y),H(()=>{f(S,s(b).locationName),f(D,`Location ${s(v)+1} of ${T.locations.length??""}`),f(oe,s(b).question)}),p(g,y)},V=g=>{var y=Z(),k=K(y);{var G=S=>{var x=qe(),D=a(x),C=c(a(D),2),I=a(C,!0);t(C),t(D),t(x),H(()=>f(I,T.completionMessage)),p(S,x)};Q(k,S=>{s(d)==="end"&&S(G)},!0)}p(g,y)};Q(m,g=>{s(d)==="playing"?g(W):g(V,!1)},!0)}p(u,_)};Q(ae,u=>{s(d)==="start"?u(te):u(se,!1)})}t(B),p(e,B),ge()}_e(["click"]);function ze(e){Ne(e,{})}export{ze as component};
