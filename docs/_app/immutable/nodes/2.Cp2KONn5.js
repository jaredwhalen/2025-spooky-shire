import"../chunks/DsnmJJEf.js";import"../chunks/D03iYyIJ.js";import{a5 as de,a6 as B,t as he,p as ue,e as fe,a7 as ge,a8 as be,a0 as me,R as T,Q as m,a1 as _e,a2 as a,Y as s,a9 as z,a3 as t,a4 as c,T as C,M as ee,P as J,aa as n,ab as ae,ac as we}from"../chunks/5Es99Kcf.js";import{d as pe,s as f,e as ke}from"../chunks/D6AelHH1.js";import{i as W}from"../chunks/CaneJkr4.js";import{r as ye}from"../chunks/B0FCbcWS.js";function Se(e,l,d=l){var v=new WeakSet;de(e,"input",async o=>{var r=o?e.defaultValue:e.value;if(r=O(e)?U(r):r,d(r),B!==null&&v.add(B),await he(),r!==(r=l())){var h=e.selectionStart,i=e.selectionEnd,_=e.value.length;if(e.value=r??"",i!==null){var p=e.value.length;h===i&&i===_&&p>_?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=h,e.selectionEnd=Math.min(i,p))}}}),(ue&&e.defaultValue!==e.value||fe(l)==null&&e.value)&&(d(O(e)?U(e.value):e.value),B!==null&&v.add(B)),ge(()=>{var o=l();if(e===document.activeElement){var r=be??B;if(v.has(r))return}O(e)&&o===U(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function O(e){var l=e.type;return l==="number"||l==="range"}function U(e){return e===""?null:+e}const q={title:"Gavin & Pedro's Spooky Shire Scavenger Hunt",description:"It's a dangerous business going out your door. Luckily, this puzzle is (mostly) indoors. Start your quest at the inn where travelers meet.",locations:[{id:1,question:"In the shadows of the Prancing Pony, what name does Aragorn go by before his true heritage is known?",answer:"Strider",alternatives:[],successMessage:"Well done! Gandalf would be proud of your wisdom!",hint:"From the warmth of the inn, descend into darkness. Find where fire and shadow meet, and the wizard makes his stand.",locationName:"The Prancing Pony"},{id:2,question:"What command did Gandalf shout upon the bridge to bar the fiery foe?",answer:"you shall not pass",alternatives:["You cannot pass","shall not pass","thou shalt not pass"],successMessage:"Well shouted, traveler! The Balrog retreats to the depths!",hint:"Victory in Moria! Now beware the webs ahead—something wicked crawls in the dark.",locationName:"Mines of Moria"},{id:3,question:"In the blackness of Shelob’s lair, what gift of Galadriel does Frodo use to drive back the darkness?",answer:"Phial of Galadriel",alternatives:["Light of Eärendil","Light of Earendil","Galadriel’s light","the star-glass"],successMessage:"The darkness recoils before the Light of Eärendil!",hint:"You’ve escaped the webs of darkness—now follow the fires of hope. The beacons are lit! Gondor calls for aid!",locationName:"Shelob's Lair"},{id:4,question:"When the mountains blaze with flame, who rides to Gondor’s aid upon hearing the call?",answer:"Rohan",alternatives:["the riders of rohan","the rohirrim","the horse-lords"],successMessage:"The Riders of Rohan answer the call! Hope thunders across the plains toward Gondor!",hint:"The fires of war burn low. Seek the Dark Tower where the Eye keeps watch",locationName:"Gondor"},{id:5,question:"High above the black land, what watchful presence gazes unblinking from the dark tower?",answer:"The Eye of Sauron",alternatives:["Sauron","the eye","the great eye"],successMessage:"The Eye falters, its gaze broken! The shadow begins to crumble.",hint:"The fire cools and the shadows flee—return now to the peace of the Shire.",locationName:"Barad-dûr"},{id:6,question:"Back in the Green Dragon Inn, who is that behind the bar who stole Sam's heart?",answer:"Rosie Cotton",alternatives:["Rosie","Rosie the barmaid"],successMessage:"Home at last! Rosie greets you with a smile, and all is well in the Shire once more.",hint:"",locationName:"The Shire"}],completionMessage:"You’ve walked the long road there and back again. Well done, adventurer! Claim your reward—there’s ale waiting at the bar."};function xe(e,l,d,v,o,r,h){n(l,"playing"),n(d,0),n(v,""),n(o,!1),n(r,!1),n(h,"")}function Te(e,l,d,v,o,r,h,i){scrollTo({top:0,behavior:"smooth"}),s(l)?n(d,"end"):(we(v),n(o,""),n(r,!1),n(h,!1),n(i,""))}var Me=T('<div class="start-screen svelte-nobnlg"><img src="banner.jpg" alt="The Quest of the Spooky Shire" class="svelte-nobnlg"/> <div class="title-section"><h1 class="main-title svelte-nobnlg"> </h1> <h2 class="subtitle svelte-nobnlg"> </h2> <p class="description svelte-nobnlg"> </p></div> <div class="start-actions"><button class="start-button svelte-nobnlg">Begin Your Quest</button></div></div>'),Le=T('<div class="error-message svelte-nobnlg"> </div>'),Ee=T('<div class="input-section svelte-nobnlg"><input type="text" placeholder="Enter your answer..." class="answer-input svelte-nobnlg"/> <button class="submit-button svelte-nobnlg">Submit Answer</button></div> <!>',1),Ge=T('<div class="hint-section svelte-nobnlg"><h4 class="svelte-nobnlg">Your next clue:</h4> <p class="hint svelte-nobnlg"> </p></div>'),qe=T('<div class="success-section svelte-nobnlg"><div class="success-message svelte-nobnlg"> </div> <!> <button class="next-button svelte-nobnlg"> </button></div>'),Ne=T('<div class="game-screen svelte-nobnlg"><div class="location-header svelte-nobnlg"><h2 class="location-name svelte-nobnlg"> </h2> <div class="progress svelte-nobnlg"> </div></div> <div class="question-section svelte-nobnlg"><h3 class="question svelte-nobnlg"> </h3> <!></div></div>'),Pe=T('<div class="end-screen svelte-nobnlg"><div class="completion-section"><h1 class="completion-title svelte-nobnlg">Quest Complete!</h1> <div class="completion-message svelte-nobnlg"> </div></div></div>'),Re=T('<div class="game-container svelte-nobnlg"><!></div>');function ze(e,l){me(l,!0);let d=z("start"),v=z(0),o=z(""),r=z(!1),h=z(!1),i=z("");const _=ae(()=>q.locations[s(v)]),p=ae(()=>s(v)===q.locations.length-1);function X(u){const w=["the","a","an","and","or","but","in","on","at","to","for","of","with","by"];return u.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim().split(" ").filter(g=>g&&!w.includes(g)).join(" ")}function Z(){if(!s(o).trim()){n(i,"Please enter an answer!");return}const u=X(s(o));[...s(_)?.alternatives,s(_).answer].some(g=>X(g)===u)?(n(h,!0),n(i,"")):n(i,"That is not the answer you seek. Try again, brave adventurer!")}function te(u){u.key==="Enter"&&!s(h)&&Z()}var V=Re(),se=a(V);{var oe=u=>{var w=Me(),g=c(a(w),2),H=a(g),j=a(H,!0);t(H);var b=c(H,2),k=a(b,!0);t(b);var y=c(b,2),M=a(y,!0);t(y),t(g);var S=c(g,2),x=a(S);x.__click=[xe,d,v,o,r,h,i],t(S),t(w),C(()=>{f(j,q.title),f(k,q.subtitle),f(M,q.description)}),m(u,w)},re=u=>{var w=ee(),g=J(w);{var H=b=>{var k=Ne(),y=a(k),M=a(y),S=a(M,!0);t(M);var x=c(M,2),D=a(x);t(x),t(y);var I=c(y,2),Y=a(I),ne=a(Y,!0);t(Y);var ie=c(Y,2);{var le=N=>{var P=Ee(),L=J(P),R=a(L);ye(R);var F=c(R,2);F.__click=Z,t(L);var K=c(L,2);{var A=E=>{var G=Le(),Q=a(G,!0);t(G),C(()=>f(Q,s(i))),m(E,G)};W(K,E=>{s(i)&&E(A)})}ke("keypress",R,te),Se(R,()=>s(o),E=>n(o,E)),m(N,P)},ve=N=>{var P=qe(),L=a(P),R=a(L,!0);t(L);var F=c(L,2);{var K=G=>{var Q=Ge(),$=c(a(Q),2),ce=a($,!0);t($),t(Q),C(()=>f(ce,s(_).hint)),m(G,Q)};W(F,G=>{s(p)||G(K)})}var A=c(F,2);A.__click=[Te,p,d,v,o,r,h,i];var E=a(A,!0);t(A),t(P),C(()=>{f(R,s(_).successMessage),f(E,s(p)?"Complete Quest":"Next Location")}),m(N,P)};W(ie,N=>{s(h)?N(ve,!1):N(le)})}t(I),t(k),C(()=>{f(S,s(_).locationName),f(D,`Location ${s(v)+1} of ${q.locations.length??""}`),f(ne,s(_).question)}),m(b,k)},j=b=>{var k=ee(),y=J(k);{var M=S=>{var x=Pe(),D=a(x),I=c(a(D),2),Y=a(I,!0);t(I),t(D),t(x),C(()=>f(Y,q.completionMessage)),m(S,x)};W(y,S=>{s(d)==="end"&&S(M)},!0)}m(b,k)};W(g,b=>{s(d)==="playing"?b(H):b(j,!1)},!0)}m(u,w)};W(se,u=>{s(d)==="start"?u(oe):u(re,!1)})}t(V),m(e,V),_e()}pe(["click"]);function Qe(e){ze(e,{})}export{Qe as component};
