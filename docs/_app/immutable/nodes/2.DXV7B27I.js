import"../chunks/DsnmJJEf.js";import"../chunks/D03iYyIJ.js";import{a5 as de,a6 as D,t as he,p as ue,e as fe,a7 as me,a8 as ge,a0 as be,R as M,Q as b,a1 as _e,a2 as a,Y as s,a9 as W,a3 as t,a4 as c,T as C,M as ee,P as J,aa as n,ab as ae,ac as we}from"../chunks/5Es99Kcf.js";import{d as pe,s as f,e as ye}from"../chunks/D6AelHH1.js";import{i as I}from"../chunks/CaneJkr4.js";import{r as ke}from"../chunks/B0FCbcWS.js";function Se(e,l,d=l){var v=new WeakSet;de(e,"input",async o=>{var r=o?e.defaultValue:e.value;if(r=O(e)?U(r):r,d(r),D!==null&&v.add(D),await he(),r!==(r=l())){var h=e.selectionStart,i=e.selectionEnd,_=e.value.length;if(e.value=r??"",i!==null){var p=e.value.length;h===i&&i===_&&p>_?(e.selectionStart=p,e.selectionEnd=p):(e.selectionStart=h,e.selectionEnd=Math.min(i,p))}}}),(ue&&e.defaultValue!==e.value||fe(l)==null&&e.value)&&(d(O(e)?U(e.value):e.value),D!==null&&v.add(D)),me(()=>{var o=l();if(e===document.activeElement){var r=ge??D;if(v.has(r))return}O(e)&&o===U(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}function O(e){var l=e.type;return l==="number"||l==="range"}function U(e){return e===""?null:+e}const E={title:"Gavin & Pedro's Spooky Shire Scavenger Hunt",description:"It's a dangerous business going out your door. Luckily, this puzzle is (mostly) indoors. Start your quest at the inn where travelers meet.",locations:[{id:1,question:"In the shadows of the Prancing Pony, what name does Aragorn go by before his true heritage is known?",answer:"Strider",alternatives:[],successMessage:"Well done! Gandalf would be proud of your wisdom!",hint:"From the warmth of the inn, descend into darkness. Find where fire and shadow meet, and the wizard makes his stand.",locationName:"The Prancing Pony"},{id:2,question:"What command did Gandalf shout upon the bridge to bar the fiery foe?",answer:"you shall not pass",alternatives:["You cannot pass","shall not pass","thou shalt not pass"],successMessage:"Well shouted, traveler! The Balrog retreats to the depths!",hint:"Victory in Moria! Now beware the webs ahead—something wicked crawls in the dark.",locationName:"Mines of Moria"},{id:3,question:"In the blackness of Shelob’s lair, what gift of Galadriel does Frodo use to drive back the darkness?",answer:"Phial of Galadriel",alternatives:["Light of Eärendil","Light of Earendil","Galadriel’s light","the star-glass"],successMessage:"The darkness recoils before the Light of Eärendil!",hint:"You’ve escaped the webs of darkness—now follow the fires of hope. The beacons are lit! Gondor calls for aid!",locationName:"Shelob's Lair"},{id:4,question:"When the mountains blaze with flame, who rides to Gondor’s aid upon hearing the call?",answer:"Rohan",alternatives:["the riders of rohan","the rohirrim","the horse-lords"],successMessage:"The Riders of Rohan answer the call! Hope thunders across the plains toward Gondor!",hint:"The fires of war burn low—seek the mountain of fire where the fate of all rests.",locationName:"Gondor"},{id:5,question:"When the Ringbearer can go no further, who carries him up the slopes of Mount Doom?",answer:"Samwise Gamgee",alternatives:["Sam","Sam Gamgee","Samwise"],successMessage:"Sam’s loyalty endures where strength fails. Friendship triumphs over all.",hint:"The fire cools and the shadows flee—return now to the peace of the Shire.",locationName:"Mount Doom"},{id:6,question:"Back in the Green Dragon Inn, who is that behind the bar who stole Sam's heart?",answer:"Rosie Cotton",alternatives:["Rosie","Rosie the barmaid"],successMessage:"Home at last! Rosie greets you with a smile, and all is well in the Shire once more.",hint:"",locationName:"The Shire"}],completionMessage:"You’ve walked the long road there and back again. Well done, adventurer! Claim your reward—there’s ale waiting at the bar."};function xe(e,l,d,v,o,r,h){n(l,"playing"),n(d,0),n(v,""),n(o,!1),n(r,!1),n(h,"")}function Me(e,l,d,v,o,r,h,i){scrollTo({top:0,behavior:"smooth"}),s(l)?n(d,"end"):(we(v),n(o,""),n(r,!1),n(h,!1),n(i,""))}var Ge=M('<div class="start-screen svelte-nobnlg"><img src="banner.jpg" alt="The Quest of the Spooky Shire" class="svelte-nobnlg"/> <div class="title-section"><h1 class="main-title svelte-nobnlg"> </h1> <h2 class="subtitle svelte-nobnlg"> </h2> <p class="description svelte-nobnlg"> </p></div> <div class="start-actions"><button class="start-button svelte-nobnlg">Begin Your Quest</button></div></div>'),Le=M('<div class="error-message svelte-nobnlg"> </div>'),Te=M('<div class="input-section svelte-nobnlg"><input type="text" placeholder="Enter your answer..." class="answer-input svelte-nobnlg"/> <button class="submit-button svelte-nobnlg">Submit Answer</button></div> <!>',1),qe=M('<div class="hint-section svelte-nobnlg"><h4 class="svelte-nobnlg">Your next clue:</h4> <p class="hint svelte-nobnlg"> </p></div>'),Ee=M('<div class="success-section svelte-nobnlg"><div class="success-message svelte-nobnlg"> </div> <!> <button class="next-button svelte-nobnlg"> </button></div>'),Ne=M('<div class="game-screen svelte-nobnlg"><div class="location-header svelte-nobnlg"><h2 class="location-name svelte-nobnlg"> </h2> <div class="progress svelte-nobnlg"> </div></div> <div class="question-section svelte-nobnlg"><h3 class="question svelte-nobnlg"> </h3> <!></div></div>'),Pe=M('<div class="end-screen svelte-nobnlg"><div class="completion-section"><h1 class="completion-title svelte-nobnlg">Quest Complete!</h1> <div class="completion-message svelte-nobnlg"> </div></div></div>'),Re=M('<div class="game-container svelte-nobnlg"><!></div>');function We(e,l){be(l,!0);let d=W("start"),v=W(0),o=W(""),r=W(!1),h=W(!1),i=W("");const _=ae(()=>E.locations[s(v)]),p=ae(()=>s(v)===E.locations.length-1);function X(u){const w=["the","a","an","and","or","but","in","on","at","to","for","of","with","by"];return u.toLowerCase().replace(/[^\w\s]/g,"").replace(/\s+/g," ").trim().split(" ").filter(m=>m&&!w.includes(m)).join(" ")}function Z(){if(!s(o).trim()){n(i,"Please enter an answer!");return}const u=X(s(o));[...s(_)?.alternatives,s(_).answer].some(m=>X(m)===u)?(n(h,!0),n(i,"")):n(i,"That is not the answer you seek. Try again, brave adventurer!")}function te(u){u.key==="Enter"&&!s(h)&&Z()}var V=Re(),se=a(V);{var oe=u=>{var w=Ge(),m=c(a(w),2),Y=a(m),j=a(Y,!0);t(Y);var g=c(Y,2),y=a(g,!0);t(g);var k=c(g,2),G=a(k,!0);t(k),t(m);var S=c(m,2),x=a(S);x.__click=[xe,d,v,o,r,h,i],t(S),t(w),C(()=>{f(j,E.title),f(y,E.subtitle),f(G,E.description)}),b(u,w)},re=u=>{var w=ee(),m=J(w);{var Y=g=>{var y=Ne(),k=a(y),G=a(k),S=a(G,!0);t(G);var x=c(G,2),F=a(x);t(x),t(k);var z=c(k,2),A=a(z),ne=a(A,!0);t(A);var ie=c(A,2);{var le=N=>{var P=Te(),L=J(P),R=a(L);ke(R);var B=c(R,2);B.__click=Z,t(L);var K=c(L,2);{var H=T=>{var q=Le(),Q=a(q,!0);t(q),C(()=>f(Q,s(i))),b(T,q)};I(K,T=>{s(i)&&T(H)})}ye("keypress",R,te),Se(R,()=>s(o),T=>n(o,T)),b(N,P)},ve=N=>{var P=Ee(),L=a(P),R=a(L,!0);t(L);var B=c(L,2);{var K=q=>{var Q=qe(),$=c(a(Q),2),ce=a($,!0);t($),t(Q),C(()=>f(ce,s(_).hint)),b(q,Q)};I(B,q=>{s(p)||q(K)})}var H=c(B,2);H.__click=[Me,p,d,v,o,r,h,i];var T=a(H,!0);t(H),t(P),C(()=>{f(R,s(_).successMessage),f(T,s(p)?"Complete Quest":"Next Location")}),b(N,P)};I(ie,N=>{s(h)?N(ve,!1):N(le)})}t(z),t(y),C(()=>{f(S,s(_).locationName),f(F,`Location ${s(v)+1} of ${E.locations.length??""}`),f(ne,s(_).question)}),b(g,y)},j=g=>{var y=ee(),k=J(y);{var G=S=>{var x=Pe(),F=a(x),z=c(a(F),2),A=a(z,!0);t(z),t(F),t(x),C(()=>f(A,E.completionMessage)),b(S,x)};I(k,S=>{s(d)==="end"&&S(G)},!0)}b(g,y)};I(m,g=>{s(d)==="playing"?g(Y):g(j,!1)},!0)}b(u,w)};I(se,u=>{s(d)==="start"?u(oe):u(re,!1)})}t(V),b(e,V),_e()}pe(["click"]);function Qe(e){We(e,{})}export{Qe as component};
